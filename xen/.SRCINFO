pkgbase = xen
	pkgdesc = Open-source type-1 or baremetal hypervisor - stable branch
	pkgver = 4.18.1pre
	pkgrel = 1
	url = https://xenproject.org/
	arch = x86_64
	license = GPL2
	makedepends = zlib
	makedepends = python
	makedepends = ncurses
	makedepends = openssl
	makedepends = libx11
	makedepends = libuuid.so
	makedepends = yajl
	makedepends = libaio
	makedepends = glib2
	makedepends = pkgconf
	makedepends = git
	makedepends = bridge-utils
	makedepends = iproute2
	makedepends = inetutils
	makedepends = acpica
	makedepends = lib32-glibc
	makedepends = gnutls
	makedepends = vde2
	makedepends = lzo
	makedepends = pciutils
	makedepends = sdl2
	makedepends = systemd-libs
	makedepends = systemd
	makedepends = wget
	makedepends = pandoc
	makedepends = valgrind
	makedepends = git
	makedepends = bin86
	makedepends = dev86
	makedepends = bison
	makedepends = gettext
	makedepends = flex
	makedepends = pixman
	makedepends = fig2dev
	makedepends = cmake
	optdepends = xen-qemu: needed for PV and HVM domUs
	optdepends = xen-pvhgrub: bootloader for PVH domains
	noextract = vtpm-gcc12-fixes.patch
	noextract = add-stubdom-fixes.patch
	noextract = gmp-4.3.2.tar.bz2
	noextract = grub-0.97.tar.gz
	noextract = lwip-1.3.0.tar.gz
	noextract = newlib-1.16.0.tar.gz
	noextract = pciutils-2.2.9.tar.bz2
	noextract = polarssl-1.1.4-gpl.tgz
	noextract = tpm_emulator-0.7.4.tar.gz
	noextract = zlib-1.2.3.tar.gz
	options = !buildflags
	source = git+https://xenbits.xen.org/git-http/xen.git#branch=stable-4.18
	source = efi-xen.cfg
	source = xen.conf
	source = tmpfiles.conf
	source = xen-ucode-extract.sh
	source = xen-intel-ucode.hook
	source = xen-amd-ucode.hook
	source = vtpm-gcc12-fixes.patch
	source = add-stubdom-fixes.patch
	source = http://xenbits.xen.org/xen-extfiles/gmp-4.3.2.tar.bz2
	source = http://xenbits.xen.org/xen-extfiles/grub-0.97.tar.gz
	source = http://xenbits.xen.org/xen-extfiles/lwip-1.3.0.tar.gz
	source = http://xenbits.xen.org/xen-extfiles/newlib-1.16.0.tar.gz
	source = http://xenbits.xen.org/xen-extfiles/pciutils-2.2.9.tar.bz2
	source = http://xenbits.xen.org/xen-extfiles/polarssl-1.1.4-gpl.tgz
	source = http://xenbits.xen.org/xen-extfiles/tpm_emulator-0.7.4.tar.gz
	source = http://xenbits.xen.org/xen-extfiles/zlib-1.2.3.tar.gz
	sha512sums = SKIP
	sha512sums = 1bbcbcd9fb8344a207409ec9f0064a45b726416f043f902ca587f5e4fa58497a759be4ffd584fa32318e960aa478864cc05ec026c444e8d27ca8e3248bd67420
	sha512sums = ccaa2ff82e4203b11e5dec9aeccac2e165721d8067e0094603ecaa7a70b78c9eb9e2287a32687883d26b6ceae6f8d2ad7636ddf949eb658637b3ceaa6999711b
	sha512sums = 53ba61587cc2e84044e935531ed161e22c36d9e90b43cab7b8e63bcc531deeefacca301b5dff39ce89210f06f1d1e4f4f5cf49d658ed5d9038c707e3c95c66ef
	sha512sums = a9230ec6ef9636ac3f3e4b72b1747ee8c4648a8bf4bd8dc3650365e34f1f67474429dbdd24996907d277b0ff5f235574643e781cb3ff37da954e899ddadbe0d6
	sha512sums = 7a832de9b35f4b77ee80d33310b23886f4d48d1d42c3d6ef6f8e2b428bec7332a285336864b61cfa01d9a14c2023674015beb7527bd5849b069f2be88e6500cd
	sha512sums = 99921b94a29fa7988c7fb5c17da8e598e777c972d6cae8c8643c991e5ff911a25525345ea8913945313d5c49fecf9da8cc3b83d47ab03928341e917b304370a9
	sha512sums = 2397795a0a4999a6efee3d8291356673d1757bc1b34dd2015378ef6ea8800ee1317c7d9f902d82bd62ff8d451223ad51ced5e3a6d66e8e79930a7f513cc2b805
	sha512sums = d26dca4998807b9910b34e12633da8b347b154740fe9b11a2ee8da72d8e34daf9822f857a10a07effdc533e6d93e04eb95f4ff9a3b7a73ee6a62f2892eff4655
	sha512sums = 2e0b0fd23e6f10742a5517981e5171c6e88b0a93c83da701b296f5c0861d72c19782daab589a7eac3f9032152a0fc7eff7f5362db8fccc4859564a9aa82329cf
	sha512sums = c2bc9ffc8583aeae71cee9ddcc4418969768d4e3764d47307da54f93981c0109fb07d84b061b3a3628bd00ba4d14a54742bc04848110eb3ae8ca25dbfbaabadb
	sha512sums = 1465b58279af1647f909450e394fe002ca165f0ff4a0254bfa9fe0e64316f50facdde2729d79a4e632565b4500cf4d6c74192ac0dd3bc9fe09129bbd67ba089d
	sha512sums = 40eb96bbc6736a16b6399e0cdb73e853d0d90b685c967e77899183446664d64570277a633fdafdefc351b46ce210a99115769a1d9f47ac749d7e82837d4d1ac3
	sha512sums = 2b3d98d027e46d8c08037366dde6f0781ca03c610ef2b380984639e4ef39899ed8d8b8e4cd9c9dc54df101279b95879bd66bfd4d04ad07fef41e847ea7ae32b5
	sha512sums = 88da614e4d3f4409c4fd3bb3e44c7587ba051e3fed4e33d526069a67e8180212e1ea22da984656f50e290049f60ddca65383e5983c0f8884f648d71f698303ad
	sha512sums = 4928b5b82f57645be9408362706ff2c4d9baa635b21b0d41b1c82930e8c60a759b1ea4fa74d7e6c7cae1b7692d006aa5cb72df0c3b88bf049779aa2b566f9d35
	sha512sums = 021b958fcd0d346c4ba761bcf0cc40f3522de6186cf5a0a6ea34a70504ce9622b1c2626fce40675bc8282cf5f5ade18473656abc38050f72f5d6480507a2106e

pkgname = xen
	pkgdesc = Open-source type-1 or baremetal hypervisor
	install = xen.install
	depends = zlib
	depends = python
	depends = ncurses
	depends = openssl
	depends = libx11
	depends = libuuid.so
	depends = yajl
	depends = libaio
	depends = glib2
	depends = pkgconf
	depends = bridge-utils
	depends = iproute2
	depends = inetutils
	depends = acpica
	depends = lib32-glibc
	depends = gnutls
	depends = vde2
	depends = lzo
	depends = pciutils
	depends = sdl2
	depends = pixman
	depends = libseccomp
	depends = libpng
	depends = libjpeg-turbo
	optdepends = xen-qemu: HVM and PV support
	optdepends = edk2-ovmf: UEFI support
	optdepends = seabios: SeaBIOS payload support
	optdepends = xen-docs: HTML documentation and man pages
	optdepends = grub-xen-git: GRUB and pvgrub2 bootloader support
	optdepends = linux-headers: extract bootable non-zstd kernel for recent kernels
	backup = etc/conf.d/xencommons
	backup = etc/conf.d/xendomains
	backup = etc/xen/efi-xen.cfg
	backup = etc/xen/cpupool
	backup = etc/xen/xl.conf

pkgname = xen-docs
	pkgdesc = Xen hypervisor documentation and man pages
	arch = any

pkgname = xen-stubdom
	pkgdesc = Xen hypervisor stubdom files
	arch = x86_64
	depends = xen
