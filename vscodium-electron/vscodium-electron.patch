diff --git a/build.sh b/build.sh
index bd78e0f..5410184 100755
--- a/build.sh
+++ b/build.sh
@@ -12,7 +12,17 @@ if [[ "${SHOULD_BUILD}" == "yes" ]]; then
 
   cd vscode || { echo "'vscode' dir not found"; exit 1; }
 
-  export NODE_OPTIONS="--max-old-space-size=8192"
+  #export NODE_OPTIONS="--max-old-space-size=8192"
+  # Build native modules for system electron
+  # # ref: https://gitlab.archlinux.org/archlinux/packaging/packages/code/-/blob/main/PKGBUILD
+  _target=$(</usr/lib/$_electron/version)
+  sed -i "s/^target.*/target=\"${_target//v/}\"/" .npmrc
+  # # During build, electron source will be downloaded
+  # # In this package, the version downloaded is the same as the system version
+  # # Thus, replace the checksum file with the one for the system version
+  curl -L https://github.com/electron/electron/releases/download/v$_target/SHASUMS256.txt > build/checksums/electron.txt
+
+
 
   npm run monaco-compile-check
   npm run valid-layers-check
